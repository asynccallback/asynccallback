---
layout: post
title: "ξ有穷自动机"
subtitle: ξ有穷自动机
author: "404"
header-style: text
tags:
  - 编译原理
  - DFA
  - NFA
  - 有穷状态机
  - Math

---
　　$\xi$有穷自动机作为有穷自动机的另一种扩展，这种新“特性”是允许在空串$\xi$上的转移。实际上，NFA没有收到输入符号就自动转移，新能力并不能扩大有穷自动机接受的语言类，但的确提供了一些额外的“程序设计便利”。

# 1. $\xi-NFA$的形式化定义

　　完全可以像表示NFA那样来表示$\xi-NFA$,只有一处例外：转移函数必须含有在$\xi$上转移的信息。形式化地，把$\xi-NFA \  A$表示成为$A = (Q,\Sigma, \delta, q_0, F)$,其中除$\delta$外，所有组成部分都有与NFA同样的解释，$\delta$现在是有以下变量的函数：
1. $Q$中一个状态。
2. $\Sigma \bigcup {\xi}$中一个元素，也就是说，要么是输入符号，要么是$\xi$符号。要求空串符号$\xi$不是字母表$\Sigma$中的元素，所以不会导致混乱。

# 2. $\xi$闭包

　　非形式化地，顺着所有从状态$q$出发带$\xi$标记的转移来求状态$q$的$\xi$闭包。但当顺着$\xi$到达其他状态后，再顺着这些状态发出$\xi$转移，以此类推，最终求出顺着箭弧都带$\xi$标记的任何路径从$q$可达的每个状态。形式化地，递归地定义$\xi$闭包$ECLOSE(q)$如下：   
　　**基础：** 状态$q$属于$ECLUSE(q)$。  
　　**归纳：** 如果$p$属于$ECLUSE(q)$，并且有从状态$p$到状态$r$带$\xi$标记的转移，则$r$属于$ECLUSE(q)$。更准确地说，如果$\delta$是所讨论的$\xi-NFA$的转移函数，且$p$属于$ECLUSE(q)$,则$ECLUSE(q)$也包含所有属于$\delta(p,\xi)$的状态。

# 3. $\xi-NFA$的扩展转移和语言
　　$\xi$闭包允许我们轻松解释当给定(非$\xi$)输入序列时，$\xi-NFA$的转移是什么。从这个解释出发，就可以定义$\xi-NFA$接受它的输入是什么意思。

　　假设$E = (Q,\Sigma, \delta, q_0, F)$是一个$\xi-NFA$。首先定义扩展转移函数$\hat\delta$来反映在输入序列上发生什么事情。意图是，$\hat\delta(q,w)$是顺着这样的路径可达的状态集合，当吧路径的标记连接起来时，就形成串$w$。与往常一样，这条路径沿途的$\xi$对形成$w$不起作用。$\hat\delta$正确递归定义是：  
　　**基础：** $\delta(q,\xi)$ = ECLUSE(q)$。也就是说，如果这条路径的标记是$\xi$，则只能顺着从状态$q$出发带$\xi$标记的箭弧，这恰好是$ECLOSU$所做的。  
　　**归纳：** 设$w$形如$wa$，其中$a$是$w$的结尾符号。注意，$a$属于$\Sigma$；$a$不能是$\xi$，$\xi$不属于$\Sigma$。计算$\hat\delta(q,w)$如下：  
1. 设$\hat\delta(q,x)$为${p_1, p_2, ... , p_k}$。也就是说，这些$p_i$是从$q$顺着标记为$x$的路径可达的所有状态。这条路径可能以一个或者多个带$\xi$标记的转移来结尾，也可能有其他的$\xi$转移。
2. 设$\bigcup_{i=1}^{k}\delta(p_i,a)为{r_1, r_2, ... ,r_m}$。也就是说，顺着带$x$标记的路径从$q$到达一些状态，遵循所有带$a$标记的这些状态发出的转移。这些$r_j$是顺着带$w$标记的路径从$q$可达的一些状态。
3. $\delta(q,w)=\bigcup_{j=1}^{m}ECLUSE(r_j)$。这个附加的闭包步骤包含了所有从$q$出发带$w$标记的路径，考虑到了在最后的“实”符号上$a$上转移后，存在其他带$\xi$标记的箭弧可以遵循的可能性。

# 4. 消除$\xi$转移
　　给定一个$\xi-NFA E$,  可以求出一个与$E$接收相同语言的$DFA D$。使用的构造非常接近于子集构造，因为$D$的状态是$E$的状态的子集合。唯一的不同在于，必须处理$E$的$\xi$转移，通过$\xi$闭包机制来做到这一点。

　　设$E = (Q_E,\Sigma, \delta_E, q_0, F_E)$。则等价的DFA

$$
D = (Q_D,\Sigma, \delta_D, q_0, F_D)
$$

　　定义如下：
1. $Q_D是Q_E$的子集的集合。更准确地说，我们将会发现，$D$的所有可达状态都是$Q_E$的$\xi$闭子集，也就是说，这些集合$S \subseteq Q_E$使得$S = ECLOSE(S)$。换句话说，状态$S$的$\xi$闭集就是使得从$S$中状态之一出发的任意$\xi$转移都导向还是属于$S$的状态的集合。注意，$\phi$是$\xi$闭集。
2. $\delta_D = ECLOSE(q_0)$,即$D$的初始状态是对仅由$E$的初始状态构成的集合求闭包得到的。注意，这个规则和原来子集构造有所不同。在子集构造中，所有构造的自动机的初始状态仅包含所给定的NFA的初始状态。
3. $F_D$是包含至少一个$E$中接受状态的状态集合。也就是说，$F_D = \{S\|S属于Q_D且S\bigcap F_E \neq \phi\}$。
4. 对于所有属于$\Sigma$的$a$和属于$Q_D$的集合$S$，计算$\delta_D(S,a)$的方法如下：
  - 设$S={p_1,p_2,...,p_k}$
  - 计算$\bigcup_\{i=1\}^k\delta_E(p_i,a)$；设这个集合是${r_1,r_2,...,r_m}$。
  - 则$\delta_D(S,a) = \bigcup_\{j=1\}^mECLOSE(r_j)$。
